<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Ghost Radar</title>

<style>
:root{--green:#00ff9c}
*{box-sizing:border-box}
html,body{
  margin:0;height:100%;
  background:black;color:var(--green);
  font-family:Arial,system-ui;
  overflow:hidden;
}

/* CAMERA */
video{
  position:fixed;inset:0;
  width:100%;height:100%;
  object-fit:cover;
  display:none;
  filter:grayscale(100%) contrast(190%) brightness(55%)
          sepia(100%) hue-rotate(90deg);
}

/* GLITCH */
.rgb-glitch{
  animation:rgb .08s infinite, shake .12s infinite;
  filter:grayscale(100%) contrast(220%) brightness(50%)
    sepia(100%) hue-rotate(90deg)
    drop-shadow(-4px 0 red)
    drop-shadow(4px 0 cyan);
}
@keyframes rgb{
  0%{clip-path:inset(0 0 90% 0)}
  50%{clip-path:inset(40% 0 20% 0)}
  100%{clip-path:inset(0 0 0 0)}
}
@keyframes shake{
  0%{transform:translate(0,0)}
  50%{transform:translate(-6px,3px)}
  100%{transform:translate(0,0)}
}

/* STATIC */
#static{
  position:fixed;inset:0;
  display:none;
  background:repeating-linear-gradient(0deg,#000 0,#000 2px,#111 4px);
  animation:noise .08s infinite;
  z-index:10;
}
@keyframes noise{to{background-position:200px 300px}}

/* NO SIGNAL */
#noSignal{
  position:fixed;inset:0;
  display:none;
  align-items:center;justify-content:center;
  font-size:56px;
  letter-spacing:6px;
  color:white;background:black;
  z-index:11;
  animation:textGlitch .1s infinite;
}
@keyframes textGlitch{
  0%{text-shadow:-5px 0 red,5px 0 cyan}
  50%{text-shadow:5px 0 red,-5px 0 cyan}
  100%{text-shadow:-3px 0 red,3px 0 cyan}
}

/* ðŸ‘» RADAR GHOST (REDISH) */
#radarGhost{
  position:absolute;
  width:60px;height:60px;
  object-fit:contain;
  display:none;
  filter:
    sepia(100%)
    hue-rotate(-20deg)
    brightness(130%)
    drop-shadow(0 0 15px red);
}

/* ðŸ‘» CAMERA GHOST (GREENISH) */
#cameraGhost{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
  display:none;
  pointer-events:none;
  z-index:7;
  opacity:.55;
  mix-blend-mode:screen;
  filter:
    grayscale(100%)
    sepia(100%)
    hue-rotate(80deg)
    brightness(130%)
    blur(2px);
}

/* RADAR */
.radar{
  position:fixed;
  bottom:140px;
  left:50%;
  transform:translateX(-50%);
  width:220px;height:220px;
  border-radius:50%;
  border:2px solid var(--green);
}
.sweep{
  position:absolute;
  width:50%;height:2px;
  background:var(--green);
  top:50%;left:50%;
  transform-origin:left center;
  animation:sweep 2.5s linear infinite;
}
@keyframes sweep{to{transform:rotate(360deg)}}

/* UI */
.header{position:fixed;top:10px;left:50%;transform:translateX(-50%)}
.status{
  position:fixed;top:50px;left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.7);
  padding:6px 16px;border-radius:20px;
}
.controls{
  position:fixed;bottom:20px;left:50%;
  transform:translateX(-50%);
}
.btn{
  width:60px;height:60px;
  border-radius:50%;
  border:2px solid var(--green);
  display:flex;align-items:center;justify-content:center;
}
svg{width:24px;height:24px;fill:var(--green)}
</style>
</head>

<body>

<video id="cam" autoplay playsinline></video>

<div class="radar" id="radar">
  <div class="sweep"></div>
  <img id="radarGhost" src="img/ghost.png">
</div>

<img id="cameraGhost" src="img/ghost.png">
<div id="static"></div>
<div id="noSignal">NO SIGNAL</div>

<audio id="bg" src="sounds/background.mp3" loop></audio>
<audio id="heartbeat" src="sounds/heartbeat.mp3" loop></audio>
<audio id="glitchSound" src="sounds/glitch.mp3"></audio>
<audio id="smileSound" src="sounds/smile.mp3"></audio>

<div class="header">GHOST RADAR</div>
<div class="status" id="status">READY</div>

<div class="controls">
  <div class="btn" onclick="startAll()">
    <svg viewBox="0 0 24 24"><polygon points="8,5 19,12 8,19"/></svg>
  </div>
</div>

<script>
const cam=document.getElementById("cam");
const radarGhost=document.getElementById("radarGhost");
const cameraGhost=document.getElementById("cameraGhost");
const staticFx=document.getElementById("static");
const noSignal=document.getElementById("noSignal");
const status=document.getElementById("status");

const bg=document.getElementById("bg");
const heartbeat=document.getElementById("heartbeat");
const glitchSound=document.getElementById("glitchSound");
const smileSound=document.getElementById("smileSound");

let started=false;

function startAll(){
 if(started)return;
 started=true;

 navigator.mediaDevices.getUserMedia({video:true})
 .then(s=>{cam.srcObject=s;cam.style.display="block"});

 bg.volume=.35; bg.play();
 heartbeat.volume=.8; heartbeat.play();

 status.innerText="SCANNING";

 setTimeout(firstRadarGhost,10000);   // first ghost
}

function firstRadarGhost(){
 status.innerText="ENTITY DETECTED";
 radarGhost.style.left="40%";
 radarGhost.style.top="35%";
 radarGhost.style.display="block";

 setTimeout(()=>radarGhost.style.display="none",4000);

 setTimeout(finalGhostSequence,20000);
}

function finalGhostSequence(){
 status.innerText="SIGNAL LOST";

 // radar ghost again
 radarGhost.style.left="55%";
 radarGhost.style.top="50%";
 radarGhost.style.display="block";

 // glitch start
 glitchSound.play();
 cam.classList.add("rgb-glitch");

 // camera ghost
 setTimeout(()=>{
   cameraGhost.style.display="block";
   smileSound.play();
 },600);

 // cut
 setTimeout(()=>{
   cam.style.display="none";
   staticFx.style.display="block";
 },1200);

 setTimeout(()=>{
   staticFx.style.display="none";
   noSignal.style.display="flex";
 },1800);

 setTimeout(()=>{
   noSignal.style.display="none";
   cam.style.display="block";
   cam.classList.remove("rgb-glitch");
   radarGhost.style.display="none";
   cameraGhost.style.display="none";
   status.innerText="SCANNING";
 },4500);
}
</script>

</body>
</html>
